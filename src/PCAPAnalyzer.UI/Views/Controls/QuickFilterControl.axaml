<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="60"
             x:Class="PCAPAnalyzer.UI.Views.Controls.QuickFilterControl">

    <Border Background="{DynamicResource BackgroundDark}" BorderBrush="{DynamicResource SlackSuccess}" BorderThickness="1"
            CornerRadius="6" Padding="12,8">
        <Grid RowDefinitions="Auto,8,Auto">
            <!-- Header -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="8">
                <TextBlock Text="⚡ QUICK FILTERS" FontSize="{StaticResource FontSizeSmall}" FontWeight="Bold" Foreground="{DynamicResource SlackSuccess}" VerticalAlignment="Center"/>
                <Border Background="{DynamicResource BackgroundPanel}" BorderBrush="{DynamicResource SlackSuccess}" BorderThickness="1"
                        CornerRadius="3" Padding="4,1" VerticalAlignment="Center">
                    <TextBlock Text="Click to toggle • Multiple = OR" FontSize="8" Foreground="{StaticResource FilterSuccessText}"/>
                </Border>
            </StackPanel>

            <!-- Filter Toggles - Compact Single Row -->
            <WrapPanel Grid.Row="2" Orientation="Horizontal">
                <!-- Core Network Filters -->
                <ToggleButton IsChecked="{Binding Rfc1918Toggle}" Classes="qf blue" Margin="0,0,4,4"
                              ToolTip.Tip="Private IPs (10.x, 172.16-31.x, 192.168.x)">
                    <TextBlock Text="RFC1918" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding PublicIpToggle}" Classes="qf blue" Margin="0,0,4,4"
                              ToolTip.Tip="Public/Internet-routable IPs">
                    <TextBlock Text="Public" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding PrivateToPublicToggle}" Classes="qf green" Margin="0,0,4,4"
                              ToolTip.Tip="Egress: Private → Public (outbound to internet)">
                    <TextBlock Text="Egress" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding PublicToPrivateToggle}" Classes="qf green" Margin="0,0,4,4"
                              ToolTip.Tip="Ingress: Public → Private (inbound from internet)">
                    <TextBlock Text="Ingress" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding InsecureToggle}" Classes="qf red" Margin="0,0,4,4"
                              ToolTip.Tip="Insecure protocols (HTTP, FTP, Telnet, TLS 1.0/1.1)">
                    <TextBlock Text="Insecure" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding IPv4Toggle}" Classes="qf blue" Margin="0,0,4,4"
                              ToolTip.Tip="IPv4 traffic only">
                    <TextBlock Text="IPv4" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding IPv6Toggle}" Classes="qf blue" Margin="0,0,4,4"
                              ToolTip.Tip="IPv6 traffic only">
                    <TextBlock Text="IPv6" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>

                <!-- Separator -->
                <Border Width="1" Height="20" Background="{DynamicResource BackgroundElevated}" Margin="4,0,8,4" VerticalAlignment="Center"/>

                <!-- Security Filters -->
                <ToggleButton IsChecked="{Binding AnomaliesToggle}" Classes="qf red" Margin="0,0,4,4"
                              ToolTip.Tip="All detected anomalies">
                    <TextBlock Text="Anomalies" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding SuspiciousToggle}" Classes="qf red" Margin="0,0,4,4"
                              ToolTip.Tip="High-severity suspicious activity">
                    <TextBlock Text="Suspicious" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding TcpIssuesToggle}" Classes="qf orange" Margin="0,0,4,4"
                              ToolTip.Tip="TCP retransmissions, out-of-order packets">
                    <TextBlock Text="TCP Issues" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
                <ToggleButton IsChecked="{Binding JumboFramesToggle}" Classes="qf orange" Margin="0,0,4,4"
                              ToolTip.Tip="Large packets (>1500 bytes)">
                    <TextBlock Text="Large Pkts" FontSize="{StaticResource FontSizeXS}"/>
                </ToggleButton>
            </WrapPanel>
        </Grid>
    </Border>

    <UserControl.Styles>
        <!-- Quick Filter Toggle Base -->
        <Style Selector="ToggleButton.qf">
            <Setter Property="Background" Value="{StaticResource BackgroundPanel}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="Padding" Value="6,2"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="MinHeight" Value="22"/>
        </Style>
        <Style Selector="ToggleButton.qf:pointerover">
            <Setter Property="Background" Value="{StaticResource BackgroundCard}"/>
        </Style>

        <!-- Blue -->
        <Style Selector="ToggleButton.qf.blue">
            <Setter Property="BorderBrush" Value="{StaticResource AccentPrimary}"/>
        </Style>
        <Style Selector="ToggleButton.qf.blue:checked">
            <Setter Property="Background" Value="{StaticResource FilterIncludeBg}"/>
            <Setter Property="BorderBrush" Value="{StaticResource AccentPrimary}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Foreground" Value="{StaticResource FilterIncludeText}"/>
        </Style>

        <!-- Red -->
        <Style Selector="ToggleButton.qf.red">
            <Setter Property="BorderBrush" Value="{StaticResource SlackDanger}"/>
        </Style>
        <Style Selector="ToggleButton.qf.red:checked">
            <Setter Property="Background" Value="{StaticResource FilterExcludeBg}"/>
            <Setter Property="BorderBrush" Value="{StaticResource SlackDanger}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Foreground" Value="{StaticResource FilterExcludeText}"/>
        </Style>

        <!-- Orange -->
        <Style Selector="ToggleButton.qf.orange">
            <Setter Property="BorderBrush" Value="{StaticResource SlackWarning}"/>
        </Style>
        <Style Selector="ToggleButton.qf.orange:checked">
            <Setter Property="Background" Value="{StaticResource FilterWarningBg}"/>
            <Setter Property="BorderBrush" Value="{StaticResource SlackWarning}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Foreground" Value="{StaticResource FilterWarningText}"/>
        </Style>

        <!-- Green -->
        <Style Selector="ToggleButton.qf.green">
            <Setter Property="BorderBrush" Value="{StaticResource SlackSuccess}"/>
        </Style>
        <Style Selector="ToggleButton.qf.green:checked">
            <Setter Property="Background" Value="{StaticResource FilterSuccessBg}"/>
            <Setter Property="BorderBrush" Value="{StaticResource SlackSuccess}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Foreground" Value="{StaticResource FilterSuccessText}"/>
        </Style>
    </UserControl.Styles>
</UserControl>
